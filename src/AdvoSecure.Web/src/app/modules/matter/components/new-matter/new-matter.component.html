<form novalidate="" class="form" #newMatterForm="ngForm">
  <!-- begin::Buttons-->
  <div class="d-flex justify-content-end mb-6">
    <button
      type="button"
      class="btn btn-primary mr-2"
      style="margin-right: 10px"
      translate="PAGES.CONTACT.OVERVIEW"
      (click)="redirectToListPage()"
    ></button>
    <button
      type="button"
      class="btn btn-secondary ml-2"
      [disabled]="isLoading || newMatterForm.invalid"
      (click)="save()"
    >
      <div translate="COMMON.SAVE">
        <ng-container *ngIf="!isLoading"></ng-container>
      </div>

      <ng-container *ngIf="isLoading">
        <span
          class="indicator-progress"
          [style.display]="'block'"
          translate="COMMON.PLEASE_WAIT"
        >
          {{ " " }}
          <span
            class="spinner-border spinner-border-sm align-middle ms-2"
          ></span>
        </span>
      </ng-container>
    </button>
  </div>
  <!-- end::Buttons-->

  <div class="card mb-5 mb-xl-10">
    <!-- begin::FormTitle-->
    <div class="card-header border-0">
      <div class="card-title m-0">
        <h3 class="fw-bolder m-0" translate="MENU.NEW_MATTER"></h3>
      </div>
    </div>
    <!-- end::FormTitle-->

    <!-- begin::Details-->
    <div class="card-body border-top p-9">
      <div class="row mb-6">
        <h4 class="col-lg-12" translate="PAGES.MATTER.DETAILS"></h4>
      </div>
      <div class="row mb-6">
        <div class="col-lg-6">
          <div class="d-flex align-items-center justify-content-start">
            <label
              class="col-lg-3 col-form-label fw-bold fs-6 required"
              translate="PAGES.MATTER.MATTER_NUMBER"
            ></label>
            <input
              type="text"
              class="form-control form-control-lg form-control-solid mb-3 mb-lg-0"
              name="matterNumber"
              [(ngModel)]="matter.matterNumber"
            />
          </div>
        </div>
        <div class="col-lg-6">
          <div class="d-flex align-items-center justify-content-start">
            <label
              class="col-lg-3 col-form-label fw-bold fs-6 required"
              translate="COMMON.TITLE"
            ></label>
            <input
              type="text"
              class="form-control form-control-lg form-control-solid mb-3 mb-lg-0"
              name="matterNumber"
              [(ngModel)]="matter.title"
            />
          </div>
        </div>
      </div>

      <div class="row mb-6">
        <div class="col-lg-6">
          <div class="d-flex align-items-center justify-content-start">
            <label
              class="col-lg-3 col-form-label fw-bold fs-6 required"
              translate="PAGES.MATTER.MATTER_TYPE"
            ></label>
            <select
              class="form-select form-select-solid form-select-lg fw-bold"
              name="matterTypeId"
              [(ngModel)]="matter.matterTypeId"
            >
              <option
                value="0"
                translate="PAGES.MATTER.SELECT_A_MATTER_TYPE"
              ></option>
              <option
                *ngFor="let matterType of matterTypes"
                [text]="matterType.title"
                [value]="matterType.id"
              ></option>
            </select>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="d-flex align-items-center justify-content-start">
            <label
              class="col-lg-3 col-form-label fw-bold fs-6 required"
              translate="PAGES.MATTER.JURISDICTION"
            ></label>
            <select
              class="form-select form-select-solid form-select-lg fw-bold"
              name="matterAreaId"
              [(ngModel)]="matter.matterAreaId"
            >
              <option
                value=""
                translate="PAGES.MATTER.SELECT_A_JURISDICTION"
              ></option>
              <option
                *ngFor="let matterArea of matterAreas"
                [text]="matterArea.title"
                [value]="matterArea.id"
              ></option>
            </select>
          </div>
        </div>
      </div>

      <div class="row mb-6">
        <div class="col-lg-6">
          <div class="d-flex align-items-center justify-content-start">
            <label
              class="col-lg-3 col-form-label fw-bold fs-6 required"
              translate="PAGES.MATTER.ACTIVE"
            ></label>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="active"
                [(ngModel)]="matter.active"
              />
            </div>
          </div>
        </div>
      </div>

      <div class="row mb-6">
        <div class="col-lg-12">
          <div class="row">
            <label
              class="col-lg-3 col-form-label fw-bold fs-6 required"
              translate="PAGES.MATTER.SYNOPSIS"
            ></label>
            <textarea
              name="synopsis"
              class="col-lg-9 form-control form-control-lg form-control-solid"
              rows="5"
              [(ngModel)]="matter.synopsis"
            ></textarea>
          </div>
        </div>
      </div>
    </div>
    <!-- end::Details-->

    <!-- begin::Financial-->
    <div class="card-body border-top p-9">
      <div class="row mb-6">
        <h4 class="col-lg-12" translate="PAGES.MATTER.FINANCIAL"></h4>
      </div>

      <div class="row mb-6">
        <div class="col-lg-6">
          <div class="d-flex align-items-center justify-content-start">
            <label
              class="col-lg-3 col-form-label fw-bold fs-6 required"
              translate="PAGES.MATTER.DECLARATION_TO"
            ></label>
            <select
              class="form-select form-select-solid form-select-lg fw-bold"
              name="billToContactId"
              [(ngModel)]="matter.billToContactId"
            >
              <option
                value="0"
                translate="PAGES.MATTER.SELECT_A_CONTACT"
              ></option>
              <option
                *ngFor="let contact of contacts"
                [text]="contact.displayName"
                [value]="contact.id"
              ></option>
            </select>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="d-flex align-items-center justify-content-start">
            <label
              class="col-lg-3 col-form-label fw-bold fs-6 required"
              translate="PAGES.MATTER.FEE"
            ></label>
            <select
              class="form-select form-select-solid form-select-lg fw-bold"
              name="defaultBillingRateId"
              [(ngModel)]="matter.defaultBillingRateId"
            >
              <option value="0" translate="PAGES.MATTER.SELECT_A_FEE"></option>
              <option
                *ngFor="let billingRate of billingRates"
                [text]="billingRate.title"
                [value]="billingRate.id"
              ></option>
            </select>
          </div>
        </div>
      </div>

      <div class="row mb-6">
        <div class="col-lg-6">
          <div class="d-flex align-items-center justify-content-start">
            <label
              class="col-lg-3 col-form-label fw-bold fs-6"
              translate="PAGES.MATTER.COST_CENTER"
            ></label>
            <select
              class="form-select form-select-solid form-select-lg fw-bold"
              name="billingGroupId"
              [(ngModel)]="matter.billingGroupId"
            >
              <option
                value="0"
                translate="PAGES.MATTER.SELECT_A_COST_CENTER"
              ></option>
              <option
                *ngFor="let billingGroup of billingGroups"
                [text]="billingGroup.title"
                [value]="billingGroup.id"
              ></option>
            </select>
          </div>
        </div>
      </div>

      <div class="row mb-6">
        <div class="col-lg-6">
          <div class="d-flex align-items-center justify-content-start">
            <label
              class="col-lg-3 col-form-label fw-bold fs-6 required"
              translate="PAGES.MATTER.USE_EMPLOYEE_RATES"
            ></label>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="overrideMatterRateWithEmployeeRate"
                [(ngModel)]="matter.overrideMatterRateWithEmployeeRate"
              />
            </div>
          </div>
        </div>
        <div class="col-lg-6"></div>
      </div>
    </div>
    <!-- end::Financial-->

    <!-- begin::Court-->
    <div class="card-body border-top p-9">
      <div class="row mb-6">
        <h4 class="col-lg-12" translate="PAGES.MATTER.COURT"></h4>
      </div>

      <div class="row mb-6">
        <div class="col-lg-6">
          <div class="d-flex align-items-center justify-content-start">
            <label
              class="col-lg-3 col-form-label fw-bold fs-6"
              translate="PAGES.MATTER.CASE_NUMBER"
            ></label>
            <input
              type="text"
              class="form-control form-control-lg form-control-solid mb-3 mb-lg-0"
              name="caseNumber"
              [(ngModel)]="matter.caseNumber"
            />
          </div>
        </div>
        <div class="col-lg-6">
          <div class="d-flex align-items-center justify-content-start">
            <label
              class="col-lg-3 col-form-label fw-bold fs-6"
              translate="PAGES.MATTER.DISTRICT"
            ></label>
            <select
              class="form-select form-select-solid form-select-lg fw-bold"
              name="courtGeographicalJurisdictionId"
              [(ngModel)]="matter.courtGeographicalJurisdictionId"
            >
              <option
                value="0"
                translate="PAGES.MATTER.SELECT_A_DISTRICT"
              ></option>
              <option
                *ngFor="
                  let courtGeographicalJurisdiction of courtGeographicalJurisdictions
                "
                [text]="courtGeographicalJurisdiction.title"
                [value]="courtGeographicalJurisdiction.id"
              ></option>
            </select>
          </div>
        </div>
      </div>

      <div class="row mb-6">
        <div class="col-lg-6">
          <div class="d-flex align-items-center justify-content-start">
            <label
              class="col-lg-3 col-form-label fw-bold fs-6"
              translate="PAGES.MATTER.LOCATION"
            ></label>
            <select
              class="form-select form-select-solid form-select-lg fw-bold"
              name="courtSittingInCityId"
              [(ngModel)]="matter.courtSittingInCityId"
            >
              <option
                value="0"
                translate="PAGES.MATTER.SELECT_A_LOCATION"
              ></option>
              <option
                *ngFor="let courtSittingInCity of courtSittingInCities"
                [text]="courtSittingInCity.title"
                [value]="courtSittingInCity.id"
              ></option>
            </select>
          </div>
        </div>
        <div class="col-lg-6"></div>
      </div>
    </div>
    <!-- end::Court-->

    <!-- begin::Contacts-->
    <div class="card-body border-top p-9">
      <div class="row mb-6">
        <h4 class="col-lg-12" translate="PAGES.MATTER.CONTACTS"></h4>
      </div>

      <div class="row mb-6">
        <div class="col-lg-4">
          <app-matter-contact
            [contactNumber]="1"
            [contacts]="contacts"
            (selectContactEvent)="addSelectedContacts($event)"
          ></app-matter-contact>
        </div>
        <div class="col-lg-4">
          <app-matter-contact
            [contactNumber]="2"
            [contacts]="contacts"
            (selectContactEvent)="addSelectedContacts($event)"
          ></app-matter-contact>
        </div>
        <div class="col-lg-4">
          <app-matter-contact
            [contactNumber]="3"
            [contacts]="contacts"
            (selectContactEvent)="addSelectedContacts($event)"
          ></app-matter-contact>
        </div>
      </div>

      <div class="row mb-6">
        <div class="col-lg-4">
          <app-matter-contact
            [contactNumber]="4"
            [contacts]="contacts"
            (selectContactEvent)="addSelectedContacts($event)"
          ></app-matter-contact>
        </div>
        <div class="col-lg-4">
          <app-matter-contact
            [contactNumber]="5"
            [contacts]="contacts"
            (selectContactEvent)="addSelectedContacts($event)"
          ></app-matter-contact>
        </div>
        <div class="col-lg-4">
          <app-matter-contact
            [contactNumber]="6"
            [contacts]="contacts"
            (selectContactEvent)="addSelectedContacts($event)"
          ></app-matter-contact>
        </div>
      </div>
    </div>
    <!-- end::Contacts-->
  </div>
</form>
